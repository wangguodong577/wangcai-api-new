#通用参数
|参数名|类型|描述|是否必须|示例|
|---|---|---|---|---|
|token|字符串|用户登录凭证|是(登录、注册接口除外)||
|tz|字符串|用户所在时区|是|Asia/Shanghai|
|pf|字符串|客户端平台类型,ios或者android|是|ios|
#接口域名
  测试:api.test.enterest.me
  正式:api.enterest.me
#接口列表
##用户相关接口
###第三方账号注册
####接口:/user/oauth/reg
####请求方式:POST/GET
####接口参数
|参数名|类型|描述|是否必须|示例|
|---|---|---|---|---|
|accessToken|字符串|第三方登录成功凭证|是|asdf2jr2ojflajfjlkajfsdfsaf|
|oauthId|字符串|第三方系统唯一标识|是|165464616546|
|nickname|字符串|用户昵称,必须唯一|是|张三|
|from|字符串|第三方账号来源,如fb或者gg|是|fb|
|avatar|字符串|用户头像|是|/avatar/232.png|
|birthday|字符串|用户生日,格式为yyyy-MM-dd|否|1985-02-14|
|gender|字符串|第三方系统里的用户性别|否|male|
|locale|字符串|用户语言|否||
|timezone|字符串|用户所在时区|是|8|
|locationId|字符串|用户所在地区id|否||
|locationName|字符串|用户所在地区名|否||
|familyId|字符串|用户需要加入的家庭id|否|sldfjsljfoi32uor23rf2jl|
####成功返回值
```
{
    "ret":200,
    "data":{
        "token":"",
        "userId":"",
        "nickname":"",
        "avatar":"",
        "thumbnail":""
    }
}
```
####失败返回值
```
{
    "ret":500,
    "errcode":"SERVER_ERROR"
}
```

###第三方账号登录
####接口:/user/oauth/login
####请求方式:POST/GET
####接口参数
|参数名|类型|描述|是否必须|示例|
|---|---|---|---|---|
|accessToken|字符串|第三方登录成功凭证|是|asdf2jr2ojflajfjlkajfsdfsaf|
|oauthId|字符串|第三方系统唯一标识|是|165464616546|
|from|字符串|第三方账号来源,如fb或者gg|是|fb|
####成功返回值
```
{
    "ret":200,
    "data":{
        "token":"",
        "userId":"",
        "nickname":"",
        "avatar":"",
        "thumbnail":""
    }
}
```
####失败返回值
```
{
    "ret":500,
    "errcode":"SERVER_ERROR"
}
```

###邮箱注册
####接口:/user/reg
####请求方式:GET/POST
####接口参数
|参数名|类型|描述|是否必须|示例|
|---|---|---|---|---|
|email|字符串|用户注册邮箱|是|test@holaverse.com|
|nickname|字符串|用户昵称|是|165464616546|
|password|字符串|用户密码|是|123456|
####成功返回值
```
{
    "ret":200,
    "data":{
        "token":"",
        "userId":"",
        "nickname":"",
        "avatar":"",
        "thumbnail":""
    }
}
```
####失败返回值
```
{
    "ret":500,
    "errcode":"SERVER_ERROR"
}
```

###邮箱登录
####接口:/user/login
####请求方式:POST
####接口参数
|参数名|类型|描述|是否必须|示例|
|---|---|---|---|---|
|email|字符串|用户注册邮箱|是|test@holaverse.com|
|password|字符串|用户密码|是|123456|
####成功返回值
```
{
    "ret":200,
    "data":{
        "token":"",
        "userId":"",
        "nickname":"",
        "avatar":"",
        "thumbnail":""
    }
}
```
####失败返回值
```
{
    "ret":500,
    "errcode":"SERVER_ERROR"
}
```


###已有账号绑定第三方账号
####接口:/user/bind
####请求方式:GET/POST
####接口参数
|参数名|类型|描述|是否必须|示例|
|---|---|---|---|---|
|accessToken|字符串|第三方登录成功凭证|是|asdf2jr2ojflajfjlkajfsdfsaf|
|oauthId|字符串|第三方系统唯一标识|是|165464616546|
|from|字符串|第三方账号来源,如fb或者gg|是|fb|
####成功返回值
```
{
    "ret":200,
    "data":""
}
```
####失败返回值
```
{
    "ret":500,
    "errcode":"SERVER_ERROR"
}
```


###已有账号加入家庭
####接口:/user/join
####请求方式:POST
####接口参数
|参数名|类型|描述|是否必须|示例|
|---|---|---|---|---|
|userId|字符串|用户唯一id|是|asdf2jr2ojflajfjlkajfsdfsaf|
|familyId|字符串|家庭唯一id|是|165464616546|
####成功返回值
```
{
    "ret":200,
    "data":""
}
```
####失败返回值
```
{
    "ret":500,
    "errcode":"SERVER_ERROR"
}
```
#错误码
|错误码|含义|
|---|---|
|SERVER_ERROR|系统错误|
|PARAM_ERROR|参数错误|
|USER_NOT_LOGIN|用户未登录|
|USER_LOGIN_FAIL|用户登录失败|
|USER_IS_CANCELED|用户被封禁|
|NICKNAME_HAS_EXIST|昵称已经存在|
|NICKNAME_IS_INVALID|昵称不合法|
|OAUTH_ALREADY_BIND|第三方账号已经绑定别的用户|
|USER_EXISTS|用户已经存在|
|USER_NOT_EXIST|用户已经加入某个家庭|
|USER_NOT_EXIST|用户不存在|
